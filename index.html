<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@800&display=swap" rel="stylesheet"> 
</head>
<body>

<div id="searchbar">Enter Country Name <input type="search" id="searchid">

<button onclick="showcountry()">Submit</button>

<br><br>

<p>Choose A Region</p>

<select id="selectid">

    <option value="africa">Africa</option>
    <option value="americas">America</option>
    <option value="asia">Asia</option>
    <option value="europe">Europe</option>
    <option value="oceania">Oceania</option>
    
    
    

</select>

<button type="button" onclick="filterbyregion()">Submit</button>

<button type="button" onclick="allcountries()">ALL COUNTRIES</button>

</div>

<div id="containerid"></div>

</body>

<script>

let containerDİV = document.querySelector("#containerid");
containerDİV.classList.add("divfourflag");

fetch("https://restcountries.com/v3.1/all/")
.then(response =>response.json())
.then(responseJSON => {

responseJSON.forEach(item => {

let newDiv = document.createElement("div");
let newImage = document.createElement("img");
let countryName = document.createElement("p")
let population = document.createElement("p")
let region = document.createElement("p")
let capital = document.createElement("p")
newDiv.classList.add("myclass")
newImage.src = item.flags.png
countryName.innerHTML = item.name.common
population.innerHTML = "Population : " + item.population
region.innerHTML = "Region : " + item.region
capital.innerHTML = "Capital : " + item.capital
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
newDiv.appendChild(newImage)
newDiv.appendChild(countryName)
newDiv.appendChild(population)
newDiv.appendChild(region)
newDiv.appendChild(capital)


})

})


function filterbyregion() {

containerDİV.innerHTML = " " ;

const countryvalue = document.getElementById("selectid").value;

fetch("https://restcountries.com/v3.1/region/" + countryvalue)
.then(response =>response.json())
.then(responseJSON => {

responseJSON.forEach(item => {

let newDiv = document.createElement("div");
let newImage = document.createElement("img");
let countryName = document.createElement("p")
let population = document.createElement("p")
let region = document.createElement("p")
let capital = document.createElement("p")
newDiv.classList.add("myclass")
newImage.src = item.flags.png
countryName.innerHTML = item.name.common
population.innerHTML = "Population : " + item.population
region.innerHTML = "Region : " + item.region
capital.innerHTML = "Capital : " + item.capital
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
newDiv.appendChild(newImage)
newDiv.appendChild(countryName)
newDiv.appendChild(population)
newDiv.appendChild(region)
newDiv.appendChild(capital)


})

})

}

function showcountry() {

containerDİV.innerHTML = " " ;

const countryinputvalue = document.getElementById("searchid").value;

fetch("https://restcountries.com/v3.1/name/" + countryinputvalue)
.then(response =>response.json())
.then(responseJSON => {

responseJSON.forEach(item => {

let newDiv = document.createElement("div");
let newImage = document.createElement("img");
let countryName = document.createElement("p")
let population = document.createElement("p")
let region = document.createElement("p")
let capital = document.createElement("p")
newDiv.classList.add("myclass")
newImage.src = item.flags.png
countryName.innerHTML = item.name.common
population.innerHTML = "Population : " + item.population
region.innerHTML = "Region : " + item.region
capital.innerHTML = "Capital : " + item.capital
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
newDiv.appendChild(newImage)
newDiv.appendChild(countryName)
newDiv.appendChild(population)
newDiv.appendChild(region)
newDiv.appendChild(capital)


})

})
    
}

function allcountries() {

containerDİV.innerHTML = " " ;

fetch("https://restcountries.com/v3.1/all/")
.then(response =>response.json())
.then(responseJSON => {


responseJSON.forEach(item => {


let newDiv = document.createElement("div");
let newImage = document.createElement("img");
let countryName = document.createElement("p")
let population = document.createElement("p")
let region = document.createElement("p")
let capital = document.createElement("p")
newDiv.classList.add("myclass")
newImage.src = item.flags.png
countryName.innerHTML = item.name.common
population.innerHTML = "Population : " + item.population
region.innerHTML = "Region : " + item.region
capital.innerHTML = "Capital : " + item.capital
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
containerDİV.appendChild(newDiv)
newDiv.appendChild(newImage)
newDiv.appendChild(countryName)
newDiv.appendChild(population)
newDiv.appendChild(region)
newDiv.appendChild(capital)
alert(responseJSON.length)

})

})

}

</script>

</html>
